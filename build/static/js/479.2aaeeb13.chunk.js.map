{"version":3,"file":"static/js/479.2aaeeb13.chunk.js","mappings":"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","sources":["config/APICongig.js","views/auth/login/Login.js"],"sourcesContent":["\r\n//Live URL\r\nconst url = \"http://thecocoapp.com:8080/api/v1/\";\r\n\r\n//Local URL\r\n// const url = \"http://localhost:3500/api/v1/\";\r\n\r\nconst ApiConfig = {\r\n  loginGenerateOtp: `${url}auth/login/generate-otp`,\r\n  loginVerifyOtp: `${url}auth/login/verify-otp`,\r\n\r\n  signupGenerateOtp: `${url}auth/signup/generate-otp`,\r\n  signupVerifiedEmail: `${url}auth/signup-with-verfied-email`,\r\n  signupVerifyOtp: `${url}auth/signup/verify-otp`,\r\n\r\n  createChild: `${url}child/create`,\r\n  getSchool: `${url}school/get-all-schools`,\r\n};\r\nexport default ApiConfig;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormHelperText,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport { Form, Formik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport Page from \"src/component/Page\";\r\nimport ApiConfig from \"src/config/APICongig\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport ButtonCircularProgress from \"src/component/ButtonCircularProgress\";\r\nimport toast from 'react-hot-toast';\r\n\r\nfunction Login(props) {\r\n  const [isRememberMe, setIsRememberMe] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n  const formInitialSchema = isRememberMe\r\n    ? {\r\n      email: \"\",\r\n    }\r\n    : {\r\n      email: window.sessionStorage.getItem(\"email\") || \"\",\r\n    };\r\n\r\n  const handleFormSubmit = async (values) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const res = await axios.post(ApiConfig.loginGenerateOtp, {\r\n        email: values.email,\r\n      });\r\n      if (res.status === 200) {\r\n        toast.success(res.data.message);\r\n        setIsLoading(false);\r\n        navigate(\"/verify\", {\r\n          state: {\r\n            email: values.email,\r\n            type: \"login\",\r\n          },\r\n        });\r\n       \r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response.data.message);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const generateOtp = async (values) => {\r\n    try {\r\n      const res = await axios.post(ApiConfig.signupGenerateOtp, {\r\n        email: values,\r\n      });\r\n\r\n      if (res.status === 200) {\r\n       toast.success(res.data.message);\r\n       setIsLoading(false);\r\n       navigate(\"/verify\", {\r\n         state: {\r\n           email: values.email,\r\n           type: \"login\",\r\n         },\r\n       });\r\n      }\r\n    } catch (error) {\r\n      toast.error(error.response.data.message);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <Page title=\"Login\">\r\n      <Box sx={{ display: \"grid\", gap: \"13px\", textAlign: \"center\" }}>\r\n        <Typography variant=\"h1\" color={\"rgba(67, 69, 71, 1)\"} mt={1}>\r\n          Login\r\n        </Typography>\r\n        <Typography variant=\"h4\" color={\"rgba(67, 69, 71, 1)\"}>\r\n          Welcome back! Login now to see\r\n          <br /> where you left off\r\n        </Typography>\r\n        <Formik\r\n          onSubmit={handleFormSubmit}\r\n          initialValues={formInitialSchema}\r\n          validationSchema={yup.object().shape({\r\n            email: yup.string().required(\"Please enter your email address.\"),\r\n          })}\r\n        >\r\n          {({\r\n            errors,\r\n            handleBlur,\r\n            handleChange,\r\n            handleSubmit,\r\n            touched,\r\n            values,\r\n          }) => (\r\n            <Form onSubmit={handleSubmit}>\r\n              <Grid sx={{ margin: \"13px 0\" }}>\r\n                <TextField\r\n                  placeholder=\"Email ID\"\r\n                  type=\"email\"\r\n                  variant=\"outlined\"\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  inputProps={{ maxLength: 256 }}\r\n                  value={values.email}\r\n                  name=\"email\"\r\n                  error={Boolean(touched.email && errors.email)}\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  SX={{ padding: \"8px 13px\" }}\r\n                />\r\n                <FormHelperText error>\r\n                  {touched.email && errors.email}\r\n                </FormHelperText>\r\n              </Grid>\r\n\r\n              <Grid>\r\n                <Box sx={{ marginTop: \"26px\" }}>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    disabled={isLoading}\r\n                    fullWidth\r\n                  >\r\n                    Login\r\n                    {isLoading && <ButtonCircularProgress />}\r\n                  </Button>\r\n                </Box>\r\n                <Box\r\n                  sx={{\r\n                    display: \"grid\",\r\n                    justifyContent: \"center\",\r\n                    mt: \"13px\",\r\n                  }}\r\n                >\r\n                  <Typography variant=\"body1\" color={\"rgba(60, 60, 60, 1)\"}>\r\n                    Donâ€™t have an account?\r\n                    <span\r\n                      onClick={() => {\r\n                        navigate(\"/sign-up\");\r\n                      }}\r\n                      style={{ color: \"rgba(0, 186, 242, 1)\", cursor: \"pointer\" }}\r\n                    >\r\n                      &nbsp;Sign up\r\n                    </span>\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Box>\r\n    </Page>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"names":["url","loginGenerateOtp","concat","loginVerifyOtp","signupGenerateOtp","signupVerifiedEmail","signupVerifyOtp","createChild","getSchool","props","isRememberMe","setIsRememberMe","useState","isLoading","setIsLoading","navigate","useNavigate","formInitialSchema","email","window","sessionStorage","getItem","_jsx","Page","title","children","_jsxs","Box","sx","display","gap","textAlign","Typography","variant","color","mt","Formik","onSubmit","async","res","axios","post","ApiConfig","values","status","toast","success","data","message","state","type","error","response","initialValues","validationSchema","yup","shape","required","_ref","errors","handleBlur","handleChange","handleSubmit","touched","Form","Grid","margin","TextField","placeholder","fullWidth","size","inputProps","maxLength","value","name","Boolean","onBlur","onChange","SX","padding","FormHelperText","marginTop","Button","disabled","ButtonCircularProgress","justifyContent","onClick","style","cursor"],"sourceRoot":""}